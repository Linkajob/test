// Function to submit the form data using AJAX
function subscribe() {
    var email = document.getElementById("emailInput").value;
    if (!isValidEmail(email)) {
        alert("Please enter a valid email address.");
        return;
    }

    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://docs.google.com/forms/d/e/1FAIpQLSewLnYukXxg28a8nheBA1e9EgkZfd4A2ZpauhW7jHMFh2BwJQ/formResponse");
    xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    var formData = new FormData();
    formData.append("entry.1387919267", email); // Using the provided field ID
    xhr.send(new URLSearchParams(formData).toString());

    // Display success message
    document.getElementById("newsletterForm").style.display = "none";
    document.getElementById("successMessage").style.display = "block";
}

function isValidEmail(email) {
    // Basic email validation
    var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailPattern.test(email);
}

// Attach click event listener to the submit button
document.getElementById("submitButton").addEventListener("click", subscribe);
